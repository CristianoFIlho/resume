% Resume Configuration Package
% Inspired by Pirate King Dark Theme
% Supports both dark and light themes

% Page setup - Load packages FIRST
\RequirePackage[letterpaper, margin=0.4in]{geometry}
\RequirePackage{xcolor}
\RequirePackage{fontawesome}
\RequirePackage{hyperref}
\RequirePackage{enumitem}
\RequirePackage{titlesec}
\RequirePackage{tikz}
\RequirePackage{array}
\RequirePackage{tabularx}

% Theme switching
\newif\ifdarktheme
\darkthemetrue % Default to dark theme

% Define colors directly (dark theme) - More precise Pirate King colors
\definecolor{bg}{HTML}{2D2D2D}
\definecolor{text}{HTML}{E8E8E8}
\definecolor{textlight}{HTML}{A0A0A0}
\definecolor{accent}{HTML}{4A9EFF}

% Apply colors at document start
\AtBeginDocument{%
    \pagecolor{bg}
    \color{text}
    % Configure hyperlinks after colors are defined
    \hypersetup{
        colorlinks=true,
        linkcolor=accent,
        urlcolor=accent,
        citecolor=accent,
        pdfborder={0 0 0}
    }
}

% Font configuration
\renewcommand{\familydefault}{\sfdefault}

% Section formatting
\titleformat{\section}
    {\large\bfseries\color{text}}
    {}
    {0em}
    {}
    [\vspace{-0.8em}{\color{textlight}\titlerule[0.3pt]}]

\titlespacing{\section}{0pt}{6pt}{3pt}

% Custom commands for contact information
\newcommand{\contact}[3]{%
    \href{#2}{#1 \color{accent}#3}%
}

% Custom command for experience entries
% Parameters: #1=Position, #2=Company, #3=Location, #4=Dates, #5=Description
\newcommand{\experience}[5]{%
    \begin{tabularx}{\textwidth}{@{}X@{\hspace{0.3em}}r@{}}
        \textbf{#1} & \textbf{\color{accent}#2} \\
        & \small\color{textlight}#3 | #4 \\
    \end{tabularx}
    \vspace{0.1em}
    \begin{itemize}[leftmargin=1em, itemsep=0.05em, topsep=0.1em]
        #5
    \end{itemize}
    \vspace{0.3em}
}

% Custom command for skill tags
\newcommand{\skilltag}[1]{%
    \tikz[baseline=(char.base)]{%
        \node[shape=rectangle, draw=accent, rounded corners=1pt, 
              fill=bg, text=accent, inner sep=1pt, 
              font=\tiny] (char) {#1};%
    }%
    \hspace{0.2em}%
}

% Custom command for certifications
\newcommand{\certification}[3]{%
    \begin{tabularx}{\textwidth}{@{}X@{\hspace{1em}}r@{}}
        \textbf{#1} & \small #3 \\
        \small\color{textlight}#2 & \\
    \end{tabularx}
    \vspace{0.3em}
}

% Custom command for education
\newcommand{\education}[4]{%
    \begin{tabularx}{\textwidth}{@{}X@{\hspace{1em}}r@{}}
        \textbf{\large #1} & \textbf{\color{accent}#2} \\
        \small #3 & \small #4 \\
    \end{tabularx}
    \vspace{0.5em}
}

% Header formatting
\newcommand{\resumeheader}[2]{%
    \begin{center}
        {\fontsize{32}{38}\selectfont\bfseries #1}\\[0.1em]
        {\Large\color{textlight} #2}\\[0.6em]
    \end{center}
}

% Contact row formatting
\newcommand{\contactrow}[4]{%
    \begin{center}
        #1 \hspace{0.3em}{\color{textlight}|}\hspace{0.3em} 
        #2 \hspace{0.3em}{\color{textlight}|}\hspace{0.3em} 
        #3 \hspace{0.3em}{\color{textlight}|}\hspace{0.3em} 
        #4
    \end{center}
    \vspace{0.6em}
}

% Remove page numbers
\pagestyle{empty}

% Custom itemize for better spacing
\setlist[itemize]{leftmargin=0.8em, itemsep=0.05em, parsep=0em}

% Custom spacing
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}
